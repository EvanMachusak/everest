<ds:deltaSet version="1.0" xmlns:ds="urn:infoway.ca/deltaSet">
   <ds:realm code="SK"/>
   <ds:metaData>
      <ds:description>SK CeRx 4.3 PIN</ds:description>
      <ds:rationale>SK CeRx Constraints</ds:rationale>
      <ds:source>PIN CeRx Business Requirements Doc.</ds:source>
      <ds:specificationVersion>V01R04_3</ds:specificationVersion>
   </ds:metaData>
   <ds:ownedEntryPoint id="COCT_MT220100CA" title="Orderable Medication">
      <ds:classDelta name="Substance">
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="REQUIRED" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="A:Drug Ingredient Identifier" new=""/>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;The unique identifier for the drug or chemical.&lt;br /&gt;&lt;strong&gt;PIN requires that an ingredient code be given. Ingredients that do not have a code will not be sent.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;This identifier must be the FDB HIC.&lt;br /&gt;&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="COCT_MT220110CA" title="Orderable Medication response">
      <ds:classDelta name="Medicine">
         <ds:attributeDelta name="formCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_BINDING">
               <ds:vocabularyValue originalType="OrderableDrugForm" newType="FDBDosageForm" originalSource="CONCEPT_DOMAIN" newSource="CODE_SYSTEM"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="Substance">
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="REQUIRED" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;The unique identifier for the drug or chemical.&lt;br /&gt;&lt;strong&gt;This will be the FDB HIC of the ingredient.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="A:Drug Ingredient Identifier" new="Drug Ingredient Code"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="MCCI_MT000100CA" title="Request Transport Wrapper">
      <ds:classDelta name="Device1">
         <ds:associationDelta name="asLocatedEntity">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="OPTIONAL" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="asLocatedEntity">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;CeRx defines this as 0..1 but it is mandatory for PIN for message authorization.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="MCCI_MT000200CA" title="Accept Ack Transport Wrapper">
      <ds:classDelta name="Message">
         <ds:attributeDelta name="acceptAckCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="acceptAckCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Fixed to &quot;NE&quot;.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
           <ds:constraint type="CHANGE_FIXED">
             <ds:stringValue new="NE"/>
           </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="E:Desired Acknowledgment Type" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="Receiver">
         <ds:attributeDelta name="telecom">
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="1" originalMaxValue="1" newMinValue="0" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="POPULATED" new="REQUIRED"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="Sender">
         <ds:attributeDelta name="telecom">
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="1" originalMaxValue="1" newMinValue="0" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="POPULATED" new="REQUIRED"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="MCCI_MT000300CA" title="Application Ack Transport Wrapper">
      <ds:classDelta name="Message">
         <ds:attributeDelta name="acceptAckCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="acceptAckCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Fixed to &quot;NE&quot;.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="E:Desired Acknowledgment Type" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="Receiver">
         <ds:attributeDelta name="telecom">
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="1" originalMaxValue="1" newMinValue="0" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="POPULATED" new="REQUIRED"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="Sender">
         <ds:attributeDelta name="telecom">
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="1" originalMaxValue="1" newMinValue="0" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="POPULATED" new="REQUIRED"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="POME_MT010090CA" title="Medication Lookup Query">
      <ds:classDelta name="DrugCharacteristicType">
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_BINDING">
               <ds:vocabularyValue originalType="QueryParameterValue" newType="MedicationObservationType" originalSource="CONCEPT_DOMAIN" newSource="CONCEPT_DOMAIN"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="DrugForm">
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_BINDING">
               <ds:vocabularyValue originalType="QueryParameterValue" newType="FDBDrugRoute" originalSource="CONCEPT_DOMAIN" newSource="CONCEPT_DOMAIN"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="POME_MT010100CA" title="Medication Lookup Response">
      <ds:classDelta name="Medicine">
         <ds:attributeDelta name="formCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_BINDING">
               <ds:vocabularyValue originalType="OrderableDrugForm" newType="FDBDosageForm" originalSource="CONCEPT_DOMAIN" newSource="CONCEPT_DOMAIN"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="PORX_MT010110CA" title="Device Order">
      <ds:classDelta name="DeviceRequest">
         <ds:attributeDelta name="confidentialityCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="confidentialityCode">
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="F:Prescription Masking Indicator" new=""/>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;As SK does not implement record-level masking, this must be &quot;Normal&quot; or a CODE_INVAL error issue will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="statusCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="statusCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;This will be &quot;active&quot; when submitting a new prescription. Any other code will cause a CODE_INVAL error issue to be returned.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="SupplyRequest">
         <ds:attributeDelta name="expectedUseTime">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Either this or the Total Prescribed Quantity must be specified or a MISSCOND error issue will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="quantity">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Either this or the Total Days Supply must be specified or a MISSCOND error issue will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="PORX_MT010120CA" title="Rx Drug Order">
      <ds:classDelta name="CombinedMedicationRequest">
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_FIXED">
               <ds:stringValue new="DRUG"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN is not using SNOMED, this is fixed to &quot;DRUG&quot;.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="Prescription Type" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="confidentialityCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="confidentialityCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;As SK does not implement record-level masking, this must be &quot;Normal&quot; or a CODE_INVAL error issue will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="F:Prescription Masking Indicator" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="statusCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;This denotes the state of the prescription. This will be &quot;active&quot; when submitting a new prescription and &quot;new&quot; when submitting a clinical pre-determination.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Any other code will cause a CODE_INVAL error issue to be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="C:Prescription Status" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:associationDelta name="directTarget">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="REQUIRED" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="directTarget">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN is not using SNOMED, this association is mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="ADD">
                  <ds:new>&lt;p&gt;Indicates the medication that has been prescribed to the patient.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
      <ds:classDelta name="SubsequentSupplyRequest">
         <ds:attributeDelta name="expectedUseTime">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;PIN will only use the Fill Quantity to determine the amount per fill. If it is not specified, PIN will not use the administration instructions and the Days Supply. Instead, it will not report Number of Fills Remaining in any query responses.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="E:Days Supply" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="quantity">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;The amount of medication to be dispensed to the patient for each normal fill (excluding trial or other special first fills). &lt;strong&gt;Although CeRx does not have this as mandatory, since PIN uses this value, it should be specified if at all possible.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="D:Fill Quantity" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="SubstitutionPermission">
         <ds:attributeDelta name="negationInd">
            <ds:constraint type="CHANGE_FIXED">
               <ds:stringValue new="true"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_DEFAULT_VALUE">
               <ds:stringValue original="false" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="negationInd">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;If true, indicates that the drug must be dispensed exactly as prescribed. &lt;strong&gt;PIN has constrained this to be fixed to the value &quot;true&quot;.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="A:Substitution Not Allowed?" new="Substitution Not Allowed Indicator"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="SupplyRequest">
         <ds:attributeDelta name="effectiveTime">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;If specified, this interval will be used to set the Prescription Effective Date and the Prescription Last Fill Expiry Date. If not specified, the Prescription Effective Date will be set to the effective date of the Control Act Event.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="A:Dispensing Allowed Period" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="PORX_MT010140CA" title="Rx Transfer">
      <ds:classDelta name="SupplyRequest">
         <ds:associationDelta name="fulfillment">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;Indicates any remaining dispense quantity associated with the prescription. This can only be sent if the associated prescription is for a drug (as opposed to a device prescription) &lt;strong&gt;or a BUS error issue will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="PORX_MT020070CA" title="Drug Dispense">
      <ds:classDelta name="Agent">
         <ds:attributeDelta name="id">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;Identity of the person who ultimately made the substitution decision. This must be either the patient&apos;s identifier, the prescriber identifier, or the dispenser identifier &lt;strong&gt;or a BUS error will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="MedicationDispense">
         <ds:attributeDelta name="confidentialityCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="id">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;SK PIN will record this as an external key against the event to allow for retrieval of this dispense using the given identifier.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="Subject8">
         <ds:associationDelta name="patient1">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;NOTE: The CeRx model allows for this field to be an animal. PIN does not support animals and this field is constrained to only allow Patients&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="ADD">
                  <ds:new>&lt;p&gt;Indicates the patient the drug was dispensed for.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue new="Dispensed For"/>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
      <ds:classDelta name="SubstanceAdministrationRequest">
         <ds:associationDelta name="responsibleParty">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="ADD">
                  <ds:new>&lt;p&gt;Identity of the provider who is taking responsibility for the actions of the author.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;This can only be specified if the id is &quot;UNK&quot; or a BUS error issue will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
      <ds:classDelta name="SubstitutionMade">
         <ds:attributeDelta name="reasonCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;If the Substitution Code is not &quot;N&quot;, then this must be present or a MISSCOND error will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="SupplyRequest">
         <ds:attributeDelta name="expectedUseTime">
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="REQUIRED" new="POPULATED"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="PORX_MT030040CA" title="Drug Prescription summary">
      <ds:classDelta name="CombinedMedicationRequest">
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_FIXED">
               <ds:stringValue new="DRUG"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN does not support SNOMED, this is fixed to &quot;DRUG&quot;.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="Prescription Type" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:associationDelta name="directTarget">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="REQUIRED" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="directTarget">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;Indicates the medication that has been prescribed to the patient. &lt;strong&gt;Because PIN does not support SNOMED, this association is mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="PORX_MT040010CA" title="Record Other Medication">
      <ds:classDelta name="OtherMedication">
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_FIXED">
               <ds:stringValue new="DRUG"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN is not using SNOMED, this is fixed to &quot;DRUG&quot;.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="Other Medication Type" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="confidentialityCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="confidentialityCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;As SK does not implement record-level masking, this must be &quot;Normal&quot; or a CODE_INVAL error issue will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="E:Other Medication Masking Indicator" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="routeCode">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="OPTIONAL" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="routeCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN is not using SNOMED, this element is mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="F:Route of Administration" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="statusCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="statusCode">
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="C:Other Medication Status" new=""/>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;Indicates the status of the other medication record. &lt;strong&gt;Only &apos;active&apos; and &apos;completed&apos; are allowed. Otherwise, a CODE_INVAL error issue will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="PORX_MT040020CA" title="Update Other Medication">
      <ds:classDelta name="OtherMedication">
         <ds:attributeDelta name="code">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN is not using SNOMED, this is fixed to &quot;DRUG&quot;.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="Other Medication Type" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_FIXED">
               <ds:stringValue new="DRUG"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="routeCode">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="OPTIONAL" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="routeCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN is not using SNOMED, this element is mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="D:Route" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="statusCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;If not active or completed, a CODE_INVAL error issue will be returned.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="PORX_MT060010CA" title="Device Dispense Detail">
      <ds:classDelta name="DeviceDispense">
         <ds:associationDelta name="fulfillment">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="REQUIRED" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="fulfillment">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;NOTE: Although the CeRx specification defines this to be 0..1, a dispense in PIN is always associated with a prescription.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="ADD">
                  <ds:new>&lt;p&gt;Indicates the prescription that was dispensed.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue new="Dispensed"/>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="PORX_MT060020CA" title="Device Dispense summary">
      <ds:classDelta name="DeviceDispense">
         <ds:associationDelta name="fulfillment">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="REQUIRED" new="POPULATED"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="fulfillment">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="ADD">
                  <ds:new>&lt;p&gt;Indicates the prescription that was dispensed.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;NOTE: Although the CeRx specification defines this to be 0..1, a dispense in PIN is always associated with a prescription.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="PORX_MT060090CA" title="Drug Dispense detail">
      <ds:classDelta name="MedicationDispense">
         <ds:associationDelta name="inFulfillmentOf">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="REQUIRED" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="inFulfillmentOf">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;NOTE: Although the CeRx specification defines this to be 0..1, a dispense in PIN is always associated with a prescription.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="ADD">
                  <ds:new>&lt;p&gt;Indicates the prescription that was dispensed.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue new="Dispensed"/>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="PORX_MT060100CA" title="Drug Dispense summary">
      <ds:classDelta name="MedicationDispense">
         <ds:attributeDelta name="id">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;The Prescription Dispense Number is a globally unique number assigned to a dispense (single fill) by PIN irrespective of the source of the dispense.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="A:Prescription Dispense Number" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:associationDelta name="fulfillment">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="REQUIRED" new="POPULATED"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="fulfillment">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;NOTE: Although the CeRx specification defines this to be 0..1, a dispense in PIN is always associated with a prescription.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="PORX_MT060190CA" title="Medication profile summary">
      <ds:classDelta name="Component6">
         <ds:associationDelta name="supplyRequest">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="MANDATORY" new="POPULATED"/>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
      <ds:classDelta name="OtherMedication">
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_FIXED">
               <ds:stringValue new="DRUG"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;This is an identifier assigned to a unique instance of an active medication record.&lt;br /&gt;&lt;strong&gt;Because PIN does not support SNOMED, this is fixed to &quot;DRUG&quot;.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="Other Medication Type" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="routeCode">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="OPTIONAL" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="routeCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN does not support SNOMED, this element is mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="E:Route of Administration" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="statusCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="PORX_MT060210CA" title="Other medication">
      <ds:classDelta name="OtherMedication">
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_FIXED">
               <ds:stringValue new="DRUG"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN does not support SNOMED, this is fixed to &quot;DRUG&quot;.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="Other Medication Type" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="routeCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="ADD">
                  <ds:new>&lt;p&gt;This is the means by which the patient is taking the medication.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN does not support SNOMED, this element is mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="E:Route of Administration" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="routeCode">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="OPTIONAL" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="PORX_MT060340CA" title="Drug Prescription detail">
      <ds:classDelta name="CombinedMedicationRequest">
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_FIXED">
               <ds:stringValue new="DRUG"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN does not support SNOMED, this is fixed to &quot;DRUG&quot;.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="Prescription Type" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="PORX_MT980020CA" title="Detected Issue">
      <ds:classDelta name="SubstanceAdministration">
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Must be &quot;DRUG&quot; or a CODE_INVAL error issue will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="Administration Type" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="RCMR_MT010001CA" title="Consent">
      <ds:classDelta name="ConsentEvent">
         <ds:attributeDelta name="effectiveTime">
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_DATATYPE">
               <ds:stringValue original="IVL&lt;TS.FULLDATE&gt;" new="IVL&lt;TS.FULLDATETIME&gt;"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="REQUIRED" new="MANDATORY"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="effectiveTime">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;CeRx defines this as 0..1 but the effective time is required in PIN so this is mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="C:Consent Effective and End Time" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:associationDelta name="component">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="REQUIRED" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="component">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;NOTE: This is marked as 0..1 in the CeRx specification, but it is required because all consents in PIN are INFA.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="ADD">
                  <ds:new>&lt;p&gt;Indicates the type of information access consented to.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
      <ds:classDelta name="PermissionToInform">
         <ds:associationDelta name="subject">
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="1" originalMaxValue="10" newMinValue="2" newMaxValue="2"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="subject">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;NOTE: The CeRx specification has an optionality of 1..10 for this element. Since all consents in PIN allow medications and allergies to be viewed, this element is constrained to send two repetitions - one with ACALLG and one with ACMED. If these two specific repetitions are not received, then a BUS error issue will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
      <ds:classDelta name="Receiver">
         <ds:associationDelta name="recipient">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;NOTE: Although the CeRx specification allows for a Service Delivery Location to be specified, in SK, consent can only be given to a specific provider, so this has been constrained to only allow the Assigned Person.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="ADD">
                  <ds:new>&lt;p&gt;If a provider is specified here, then the consent is only being given to that provider. If a facility is specified, then the consent is being given to all providers who work at that facility.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="serviceDeliveryLocation">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="POPULATED" new="NOT_ALLOWED"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="1" originalMaxValue="1" newMinValue="0" newMaxValue="0"/>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="REPC_MT000001CA" title="Allergy Intolerance">
      <ds:classDelta name="AllergyTestEvent">
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="id">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="USAGE_NOTES" changeType="ADD">
                  <ds:new>&lt;p&gt;This identifier references an external allergy test.&lt;strong&gt; PIN will simply store this value for information purposes. No validation of the id will be made.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="B:Allergy Test Record Id" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="OPTIONAL" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="value">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;A code indicating result of the allergy test.&lt;br /&gt;&lt;strong&gt;Because PIN is not using SNOMED, this attribute is mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="C:Allergy Test Result" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="CausalityAssessment">
         <ds:constraint type="ANNOTATION">
            <ds:annotationValue type="DESCRIPTION" changeType="ADD">
               <ds:new>&lt;p&gt;This is a recording of a patient reaction that is believed to be associated with the allergy/intolerance.&lt;/p&gt;</ds:new>
            </ds:annotationValue>
         </ds:constraint>
         <ds:constraint type="CHANGE_BUSINESS_NAME">
            <ds:stringValue original="Reported Reactions" new=""/>
         </ds:constraint>
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_FIXED">
               <ds:stringValue new="RXNASSESS"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_DEFAULT_VALUE">
               <ds:stringValue new="RXNASSESS"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN is not using SNOMED, this is fixed to RXNASSESS.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="Assessment Type" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="value">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN is not using SNOMED, this is fixed to &quot;RELATED&quot;&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="Relatedness Assessment" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="OPTIONAL" new="POPULATED"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_FIXED">
               <ds:stringValue new="RELATED"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_DEFAULT_VALUE">
               <ds:stringValue new="RELATED"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:associationDelta name="startsAfterStartOf">
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue new="Caused By Exposure To"/>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
      <ds:classDelta name="ExposureEvent">
         <ds:attributeDelta name="id">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;A KEY204 error issue will be returned if this record identifier is not found in PIN.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="ADD">
                  <ds:new>&lt;p&gt;This is the identifier of the record or order that caused the reaction. This could be for a prescription or other active medication records.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="B:Incidence Identifier" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="routeCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="Informant">
         <ds:associationDelta name="party">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;This is the party that reported the alleryg/intolerance. It can be the patient, the patient&apos;s representative, or a healthcare provider.&lt;strong&gt; If a Patient is specified here, it must match the patient specified in IntoleranceCondition.subject or a BUS error issue will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
      <ds:classDelta name="IntoleranceCondition">
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="A:Allergy/Intolerance Type" new=""/>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;This will indicate whether this is a drug allergy, a non- drug allergy, a drug intolerance, or a non-drug intolerance. &lt;strong&gt;CODE_INVAL error issue will be returned if non- leaf-level codes are sent, i.e. OINT is not allowed while EALG is.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;Coded type is &lt;strong&gt;CD-N&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="confidentialityCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;As SK does not implement record-level masking, this must be &lt;/strong&gt;&lt;strong&gt;NORMAL or a CODE_INVAL error issue will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="H:Allergy/Intolerance Masking Indicator" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="confidentialityCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="statusCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="statusCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="USAGE_NOTES" changeType="EDIT">
                  <ds:original>&lt;p xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;&gt;System must default the status to &apos;active&apos;.&lt;/p&gt;</ds:original>
                  <ds:new>&lt;p&gt;System must default the status to &apos;active&apos;. CODE_INVAL error issue will be returned if not set to either &apos;active&apos; or &apos;completed&apos;.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="E:Allergy/Intolerance Status" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="uncertaintyCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="EDIT">
                  <ds:original>&lt;p xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;&gt;An indication of the level of confidence/surety placed in the recorded information.&lt;/p&gt;&lt;p xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;&gt;The two valid confirmation statuses are&amp;quot; &apos;CONFIRMED&apos; and &apos;SUSPECTED&apos;.&lt;/p&gt;&lt;p xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;&gt;An allergy or intolerance record is always used in drug contraindication checking whether the record is tagged as &apos;confirmed&apos; or &apos;suspected&apos;.&lt;/p&gt;</ds:original>
                  <ds:new>&lt;p&gt;An indication of the level of confidence/surety placed in the recorded information.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The two valid confirmation statuses are&quot; &apos;U&apos; and &apos;N&apos;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;An allergy or intolerance record is always used in drug contraindication checking whether the record is tagged as &apos;confirmed&apos; or &apos;suspected&apos;.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;This can be &apos;N&apos; or &apos;U&apos;. &lt;strong&gt;CODE_INVAL error issue will be returned if not.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="F:Confirmed Indicator" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="uncertaintyCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="OPTIONAL" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CWE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="value">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;PIN is extending the IntoleranceValue vocabulary to include FDB Allergen Group Codes and will not accept the ClinicalDrug child domain vocabulary. Because PIN is not using SNOMED, this attribute is mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="B:Agent" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:associationDelta name="informant">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Indicates where the information that led to the recording of this information came from.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue new="Reported By"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="subjectOf1">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;These are notes for the allergy/intolerance.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue new="Includes"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="subjectOf2">
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue new="Severity Level"/>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;Indicates the severity of the allergy/intolerance.&lt;br /&gt;&lt;strong&gt;Because PIN is not using SNOMED, this association is mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="subjectOf2">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="OPTIONAL" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="support">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="USAGE_NOTES" changeType="ADD">
                  <ds:new>&lt;p&gt;The support.records indicates a particular type of reaction experienced by the patient or testing performed on the patient which provides evidence for the existence (or non-existence) of the allergy/intolerance.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
      <ds:classDelta name="MaterialKind">
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CWE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="USAGE_NOTES" changeType="ADD">
                  <ds:new>&lt;p&gt;Indicates the type of agent that the patient was exposed to which caused the adverse reaction. This includes Drug, Food, Latex, Dust, etc. &lt;strong&gt;Send &quot;UNK&quot; if the material is unknown.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="A:Exposed Material Type" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="ObservationEvent">
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_FIXED">
               <ds:stringValue new="DX"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_DEFAULT_VALUE">
               <ds:stringValue new="DX"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN is not using SNOMED, this is fixed to &quot;DX&quot;.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="Diagnosis Type" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="negationInd">
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="D:No reaction occurred" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="OPTIONAL" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CWE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="B:Reaction" new="Reaction"/>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Specifies the kind of reaction, as experienced by the patient. Because PIN does not support ADRs, this field is now mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:associationDelta name="subjectOf">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="OPTIONAL" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="subjectOf">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;An indication of the severity of the reaction.&lt;br /&gt;&lt;strong&gt;Because PIN is not using SNOMED for communicating reactions, this association is mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
      <ds:classDelta name="SeverityObservation">
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="StartsAfterStartOf">
         <ds:constraint type="ANNOTATION">
            <ds:annotationValue type="DESCRIPTION" changeType="ADD">
               <ds:new>&lt;p&gt;Indicates the agent that is believed to have caused the allergic reaction.&lt;/p&gt;</ds:new>
            </ds:annotationValue>
         </ds:constraint>
         <ds:constraint type="CHANGE_BUSINESS_NAME">
            <ds:stringValue original="caused by exposure to" new=""/>
         </ds:constraint>
      </ds:classDelta>
      <ds:classDelta name="Subject1">
         <ds:constraint type="ANNOTATION">
            <ds:annotationValue type="RATIONALE" changeType="EDIT">
               <ds:original>&lt;p xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot;&gt;Useful for determining severity of an allergy/intolerance contraindication and the management of same. The association is optional because severity will be precoordinated into code for SNOMED.&lt;/p&gt;</ds:original>
               <ds:new>&lt;p&gt;Useful for determining severity of an allergy/intolerance contraindication and the management of same. The association is optional because severity will be precoordinated into code for SNOMED.&lt;/p&gt;</ds:new>
            </ds:annotationValue>
         </ds:constraint>
         <ds:constraint type="CHANGE_BUSINESS_NAME">
            <ds:stringValue original="has" new="Severity Level"/>
         </ds:constraint>
      </ds:classDelta>
      <ds:classDelta name="Subject2">
         <ds:constraint type="CHANGE_BUSINESS_NAME">
            <ds:stringValue original="*a:suffered by" new="Suffered By"/>
         </ds:constraint>
         <ds:constraint type="ANNOTATION">
            <ds:annotationValue type="DESCRIPTION" changeType="ADD">
               <ds:new>&lt;p&gt;&lt;strong&gt;Indicates the person suffering from the allergy/intolerance.&lt;/strong&gt;&lt;/p&gt;</ds:new>
            </ds:annotationValue>
         </ds:constraint>
      </ds:classDelta>
      <ds:classDelta name="Subject6">
         <ds:constraint type="CHANGE_BUSINESS_NAME">
            <ds:stringValue new="Reaction Record"/>
         </ds:constraint>
         <ds:associationDelta name="observationEvent">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;For the Reaction Record Identifier, observationEvent.id: This will be the identifier of a previously-created Adverse Drug Reaction record. Since PIN does not currently support the creation of Adverse Drug Reaction records, this field can not be populated with a valid PIN identifier. &lt;strong&gt;If this field is sent, a KEY204 error issue will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue new="Reaction Record"/>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="REPC_MT000004CA" title="Allergy Intolerances query">
      <ds:classDelta name="AllergyIntoleranceStatus">
         <ds:constraint type="ANNOTATION">
            <ds:annotationValue type="DESCRIPTION" changeType="ADD">
               <ds:new>&lt;p&gt;Indicates that the result set should be filtered to include only those allergy/intolerance records for the specified status.&lt;/p&gt;</ds:new>
            </ds:annotationValue>
         </ds:constraint>
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="AllergyIntoleranceType">
         <ds:attributeDelta name="value">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;If a non-leaf code is specified, then all records whose type is in the specified code\&apos;s hierarchy will be returned. Example: if ALG is specified, any DALG,&lt;/strong&gt; &lt;strong&gt;EALG, or FALG will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="H:Allergy/Intolerance Type" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="IncludeNotesIndicator">
         <ds:constraint type="ANNOTATION">
            <ds:annotationValue type="DESCRIPTION" changeType="ADD">
               <ds:new>&lt;p&gt;Indicates whether or not notes attached to the allergy/intolerance records are to be returned along with the detailed information.&lt;/p&gt;</ds:new>
            </ds:annotationValue>
         </ds:constraint>
         <ds:constraint type="CHANGE_BUSINESS_NAME">
            <ds:stringValue new="Include Notes Indicator"/>
         </ds:constraint>
      </ds:classDelta>
      <ds:classDelta name="PatientBirthDate">
         <ds:attributeDelta name="value">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;This will be compared to the birthdate of the patient given by the ID. (See the External Registry ID section for details on the comparison and the error that may be raised.)&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="E:Patient Birth Date" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="PatientGender">
         <ds:attributeDelta name="value">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;This will be compared to the gender of the patient given by the ID. (See the External Registry ID section for details on the comparison and the error that may be raised.)&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="D:Patient Gender" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="PatientID">
         <ds:attributeDelta name="value">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;Identifier of the patient who is the subject of the allergy/intolerance query. Filter the result set to include only those records pertaining to the patient with this ID. &lt;strong&gt;A KEY204 error issue will be returned if this ID does not exist in the jurisdictional client registry.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="B:Patient ID" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="PatientName">
         <ds:attributeDelta name="value">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;The name of the patient who is the subject of the allergy/intolerance query. &lt;strong&gt;This will be compared to the name of the patient given by the ID. (See the External Registry ID section on the comparison and the error that may be raised.)&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="C:Patient Name" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="ReactionType">
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="value">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="ADD">
                  <ds:new>&lt;p&gt;A coded value denoting a specific reaction. E.g. Code for &apos;rash&apos;. The result set will be filtered to include only those allergy records or intolerance records pertaining to the specified reaction.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="I:Reaction" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="REPC_MT000005CA" title="Allergy Intolerances Response">
      <ds:classDelta name="IntoleranceCondition">
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;This will indicate whether this is a drug allergy, a non- drug allergy, a drug intolerance, or a non-drug intolerance.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="A:Allergy/Intolerance Type" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="confidentialityCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="id">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="USAGE_NOTES" changeType="ADD">
                  <ds:new>&lt;p&gt;This is the identifier of the allergy/intolerance record.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="D:Allergy/Intolerance Record Id" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="statusCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:associationDelta name="subjectOf2">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="OPTIONAL" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="subjectOf2">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN is not using SNOMED, this association is mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="ADD">
                  <ds:new>&lt;p&gt;Indicates the severity of the allergy/intolerance.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
      <ds:classDelta name="SeverityObservation">
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="REPC_MT000008CA" title="Condition History query">
      <ds:classDelta name="ConditionID">
         <ds:attributeDelta name="value">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;A KEY204 error issue will be returned if this ID does exist in PIN.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="F:Condition Identifier" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="PatientBirthDate">
         <ds:constraint type="ANNOTATION">
            <ds:annotationValue type="DESCRIPTION" changeType="ADD">
               <ds:new>&lt;p&gt;Indicates the date on which the patient was born.&lt;/p&gt;</ds:new>
            </ds:annotationValue>
         </ds:constraint>
         <ds:constraint type="ANNOTATION">
            <ds:annotationValue type="CONSTRAINT" changeType="ADD">
               <ds:new>&lt;p&gt;&lt;strong&gt;This will be compared to the birthdate of the patient given by the ID. (See the External Registry ID section for details on the comparison and the error that may be raised.)&lt;/strong&gt;&lt;/p&gt;</ds:new>
            </ds:annotationValue>
         </ds:constraint>
         <ds:constraint type="CHANGE_BUSINESS_NAME">
            <ds:stringValue new="Patient Birth Date"/>
         </ds:constraint>
      </ds:classDelta>
      <ds:classDelta name="PatientGender">
         <ds:constraint type="ANNOTATION">
            <ds:annotationValue type="CONSTRAINT" changeType="ADD">
               <ds:new>&lt;p&gt;&lt;strong&gt;This will be compared to the gender of the patient given by the ID.  (See the External Registry ID section for details on the comparison and  the error that may be raised.)&lt;/strong&gt;&lt;/p&gt;</ds:new>
            </ds:annotationValue>
         </ds:constraint>
         <ds:constraint type="ANNOTATION">
            <ds:annotationValue type="DESCRIPTION" changeType="ADD">
               <ds:new>&lt;p&gt;Indicates the gender (sex) of the patient.&lt;/p&gt;</ds:new>
            </ds:annotationValue>
         </ds:constraint>
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="PatientID">
         <ds:constraint type="ANNOTATION">
            <ds:annotationValue type="CONSTRAINT" changeType="ADD">
               <ds:new>&lt;p&gt;&lt;strong&gt;A &quot;KEY204&quot; error issue will be returned if this ID does not exist in the jurisdiction\&apos;s client registry.&lt;/strong&gt;&lt;/p&gt;</ds:new>
            </ds:annotationValue>
         </ds:constraint>
         <ds:constraint type="ANNOTATION">
            <ds:annotationValue type="DESCRIPTION" changeType="ADD">
               <ds:new>&lt;p&gt;Identifier of the patient who is the subject of the allergy/intolerance  query. Filter the result set to include only those records pertaining to  the patient with this ID.&lt;/p&gt;</ds:new>
            </ds:annotationValue>
         </ds:constraint>
         <ds:constraint type="CHANGE_BUSINESS_NAME">
            <ds:stringValue new="PatientID"/>
         </ds:constraint>
      </ds:classDelta>
      <ds:classDelta name="PatientName">
         <ds:constraint type="ANNOTATION">
            <ds:annotationValue type="CONSTRAINT" changeType="ADD">
               <ds:new>&lt;p&gt;&lt;strong&gt;This will be compared to the name of the patient given by the ID. (See the External Registry ID section for details on the comparison and the error that may be raised.)&lt;/strong&gt;&lt;/p&gt;</ds:new>
            </ds:annotationValue>
         </ds:constraint>
         <ds:constraint type="ANNOTATION">
            <ds:annotationValue type="DESCRIPTION" changeType="ADD">
               <ds:new>&lt;p&gt;The name of the patient who is the subject of the allergy/intolerance query.&lt;strong&gt; &lt;/strong&gt;&lt;/p&gt;</ds:new>
            </ds:annotationValue>
         </ds:constraint>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="REPC_MT000009CA" title="Allergy Intolerance with history">
      <ds:classDelta name="IntoleranceCondition">
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="OPTIONAL" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CWE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="value">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN is not using SNOMED, this attribute is mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="B:Agent" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:associationDelta name="replacementOf">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;This is a complete Allergy/Intolerance that reflects what the allergy/intolerance looked like before this set of changes.&lt;br /&gt;&lt;strong&gt;Since PIN does not analyze an update, all updates will be returned in this section instead of the Has History section.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="DESCRIPTION" changeType="ADD">
                  <ds:new>&lt;p&gt;This is a complete Allergy/Intolerance that reflects what the allergy/intolerance looked like before this set of changes.&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="subjectOf3">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="OPTIONAL" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="subjectOf3">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Because PIN is not using SNOMED, this attribute is mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
      <ds:classDelta name="Subject3">
         <ds:associationDelta name="annotation">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;&lt;strong&gt;Annotations will only be returned on the current allergy/intolerance record. They will not be present on the IntoleranceCondition objects that represent history.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue new="Annotation"/>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
   </ds:ownedEntryPoint>
   <ds:ownedEntryPoint id="REPC_MT000013CA" title="Allergy Intolerance Update">
      <ds:classDelta name="IntoleranceCondition">
         <ds:attributeDelta name="code">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="code">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;This will indicate whether this is a drug allergy, a non- drug allergy, a drug intolerance, or a non-drug intolerance. &lt;strong&gt;CODE_INVAL error issue will be returned if non- leaf-level codes are sent, i.e. OINT is not allowed while EALG is.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="A:Allergy/Intolerance Type" new="Allergy/Intolerance Type"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="confidentialityCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="confidentialityCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;This indicates whether the allergy should be masked or not. &lt;strong&gt;As SK does not implement record-level masking, this must be &quot;Normal&quot; or a CODE_INVAL error issue will be returned.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="H:Allergy/Intolerance Masking Indicator" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="id">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;This is the identifier of the allergy/intolerance record to update. &lt;strong&gt;A KEY204 error issue will be returned if this ID does not exist in PIN.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="D:Allergy/Intolerance Record Id" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="statusCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="statusCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;This can be &quot;active&quot; or &quot;completed&quot;. &lt;strong&gt;CODE_INVAL error issue will be returned if not.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="E:Allergy/Intolerance Status" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="uncertaintyCode">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:attributeDelta name="uncertaintyCode">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;This can be N or U.&lt;br /&gt;&lt;strong&gt;CODE_INVAL error issue will be returned if not.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue original="F:Confirmed Indicator" new=""/>
            </ds:constraint>
         </ds:attributeDelta>
         <ds:associationDelta name="informant">
            <ds:constraint type="CHANGE_BUSINESS_NAME">
               <ds:stringValue new="Reported By"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="subjectOf">
            <ds:constraint type="CHANGE_CONFORMANCE">
               <ds:stringValue original="OPTIONAL" new="MANDATORY"/>
            </ds:constraint>
            <ds:constraint type="CHANGE_CARDINALITY">
               <ds:cardinalityValue originalMinValue="0" originalMaxValue="1" newMinValue="1" newMaxValue="1"/>
            </ds:constraint>
         </ds:associationDelta>
         <ds:associationDelta name="subjectOf">
            <ds:constraint type="ANNOTATION">
               <ds:annotationValue type="CONSTRAINT" changeType="ADD">
                  <ds:new>&lt;p&gt;Indicates the severity of the allergy/intolerance. &lt;strong&gt;Because PIN is not using SNOMED, this association is mandatory.&lt;/strong&gt;&lt;/p&gt;</ds:new>
               </ds:annotationValue>
            </ds:constraint>
         </ds:associationDelta>
      </ds:classDelta>
      <ds:classDelta name="SeverityObservation">
         <ds:attributeDelta name="value">
            <ds:constraint type="CHANGE_VOCABULARY_STRENGTH">
               <ds:stringValue new="CNE"/>
            </ds:constraint>
         </ds:attributeDelta>
      </ds:classDelta>
      <ds:classDelta name="Subject2">
         <ds:constraint type="CHANGE_BUSINESS_NAME">
            <ds:stringValue original="*a:suffered by" new="Suffered By"/>
         </ds:constraint>
      </ds:classDelta>
   </ds:ownedEntryPoint>
</ds:deltaSet>